{"version":3,"sources":["img/cross.svg","components/Modal/index.js","hooks/useCustomPrompt.js","components/PromptPage/index.js","components/NoPromptPage/index.js","components/App/index.js","index.js","components/Modal/Modal.module.scss"],"names":["Modal","isActive","onConfirm","onClose","message","modalMessage","yesButton","noButton","closeModal","className","layer","onClick","modal","e","stopPropagation","header","title","close","src","cross","alt","body","footer","buttons","cancel","confirm","memo","useCustomPrompt","useState","modalIsActive","setModalIsActive","pathTo","setPathTo","setConfirm","history","useHistory","currentLocation","useLocation","location","pathname","useEffect","push","CustomPrompt","modalProps","defaultModalProps","UserModal","when","PromptPage","NoPromptPage","App","path","component","exact","to","ReactDOM","render","getUserConfirmation","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.84e478d3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/cross.e9e9d91d.svg\";","import { memo } from 'react';\nimport {\n  layer, modal, header, title, body, footer, \n  buttons, cancel, confirm, close, /* icon, */ message\n} from './Modal.module.scss';\nimport cross from '../../img/cross.svg';\n/* import floppy from '../../img/floppy.svg'; */\n\nconst Modal = ({\n  isActive, \n  onConfirm, \n  onClose, \n  message : modalMessage = 'Do you want to leave the page?',\n  yesButton = 'Yes',\n  noButton = 'No',\n}) => {\n  const closeModal = () => onClose(false)\n  const onModalClick = e => {\n    e.stopPropagation()\n  }\n  return isActive ? (\n    <div className={layer} onClick={closeModal}>\n      <div className={modal} onClick={onModalClick}>\n        <header className={header}>\n          <span className={title}></span>\n          <button className={close} onClick={closeModal}><img src={cross} alt=\"close-button\"/></button>\n        </header>\n        \n        <div className={body}>\n          {/* <div className={icon}>\n            <img src={floppy} alt=\"save-icon\"/>\n          </div> */}\n          <div className={message}>{modalMessage}</div>\n        </div>\n        <footer className={footer}>\n          <div className={buttons}>\n            <button className={cancel} onClick={onConfirm}>{yesButton}</button>\n            <button className={confirm} onClick={closeModal}>{noButton}</button>\n          </div>\n        </footer>\n      </div>\n    </div>\n  ) : null\n}\n\nexport default memo(Modal);","import { Fragment, useEffect, useState } from 'react';\nimport {useHistory, useLocation} from 'react-router-dom';\nimport {Prompt} from 'react-router-dom';\nimport Modal from '../components/Modal';\n\n\nconst useCustomPrompt = () => {\n  const [modalIsActive, setModalIsActive] = useState(false);\n  const [pathTo, setPathTo] = useState('')\n  const [confirm, setConfirm] = useState(false);\n  const history = useHistory();\n  const currentLocation = useLocation();\n  const onConfirm = () => {\n    setConfirm(true)\n    setModalIsActive(!modalIsActive)\n  }\n  const message = (location) => {\n    if (location.pathname === currentLocation.pathname) return;\n    setModalIsActive(true)\n    setPathTo(location.pathname)\n    return '';\n  }\n  const CustomPrompt = ({\n    modal, \n    modalProps, \n    ...defaultModalProps\n  }) => {\n    const UserModal = modal\n    return (\n      <Fragment>\n        <Prompt when={!confirm} message={message}/>\n        {UserModal\n          ? <UserModal {...modalProps} />\n          : <Modal isActive={modalIsActive} onConfirm={onConfirm} onClose={setModalIsActive} {...defaultModalProps}/>\n        }\n      </Fragment>\n    )\n  }\n\n  useEffect(() => {\n    if (confirm) {\n      history.push(pathTo);\n    }\n  }, [confirm, pathTo, history])\n  \n  return {\n    confirm,\n    message,\n    modalIsActive,\n    onConfirm,\n    setModalIsActive,\n    CustomPrompt\n  }\n}\n\nexport default useCustomPrompt;\n\n","import { memo } from \"react\";\nimport useCustomPrompt from '../../hooks/useCustomPrompt';\n\nconst PromptPage = () => {\n  const {CustomPrompt} = useCustomPrompt();\n\n  return (\n    <div>\n      <h1>The Page with Prompt. Try to leave it!</h1>\n      <CustomPrompt \n        message={'Вы действительно хотите покинуть страницу'}\n        yesButton={'Да'}\n        noButton={'Нет'}/>\n    </div>\n  )\n}\n\nexport default memo(PromptPage);","import { memo } from \"react\";\n\nconst NoPromptPage = () => {\n  return (\n    <div>\n      <h1>The Page without Prompt</h1>\n    </div>\n  )\n}\n\nexport default memo(NoPromptPage);","import { Fragment, memo } from 'react';\nimport { NavLink, Switch, Route, Redirect } from 'react-router-dom';\nimport './App.scss';\nimport PromptPage from '../PromptPage';\nimport NoPromptPage from '../NoPromptPage';\n\nfunction App() {\n  return (\n    <Fragment>\n      <div className='main'>\n        <div className='content'>\n          <Switch >\n            <Route path='/page' component={NoPromptPage}/>\n            <Route path='/' exact component={PromptPage}/>\n            <Redirect to='/'/>\n          </Switch>\n          <nav className='nav'>\n            <NavLink className='nav-link' to='/' exact>Home</NavLink>\n            <NavLink className='nav-link' to='/page'>Another Page</NavLink>\n            {/* <NavLink to={{ pathname: 'https://google.com' }} className='nav-link' rel='noreferrer noopener'>External Link</NavLink> */}\n          </nav>\n        </div>\n      </div>\n    </Fragment>\n  );\n}\n\nexport default memo(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter getUserConfirmation={()=>{}}>\n     <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"layer\":\"Modal_layer__3PtVh\",\"modal\":\"Modal_modal__1vwov\",\"header\":\"Modal_header__3jdKb\",\"close\":\"Modal_close__2EfR5\",\"title\":\"Modal_title__1gczl\",\"body\":\"Modal_body__2SQju\",\"icon\":\"Modal_icon__2QVZ6\",\"message\":\"Modal_message__32N1C\",\"footer\":\"Modal_footer__RRf7L\",\"buttons\":\"Modal_buttons__1vmlV\",\"cancel\":\"Modal_cancel__2EYnn\",\"confirm\":\"Modal_confirm__J5jC5\"};"],"sourceRoot":""}